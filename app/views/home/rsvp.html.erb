<h1><%= t :invited %></h2>
<% theme_code = get_theme_code
   anonymize = get_anonymous %>
<p><%= t 'home.greeting', name: @current_user.nil? ? "John" : @current_user.first_name %>,
    <%= t 'home.course_confirm', 
          course_list_text: t( 'home.courses', count: @waiting_rosters.count),
          proper_course_list: t( 'home.courses_proper', count: @waiting_rosters.count ) %>:
  </p>
<table data-role="table"
          id="basicTable"
          data-column-btn-theme"<%= theme_code %>" 
          data-column-popup-theme="<%= theme_code %>" 
          data-mode="columntoggle"
          data-column-btn-theme="<%= theme_code %>" 
          data-column-btn-text="<%= t :column_select %>"
          class="table-stroke ui-shadow table-stripe table-ui-responsive ">
  <thead>
    <tr>
      <th><%= t :task_name %></th>
      <th><%= t :status %></th>
      <th data-priority="0"><%= t :course_name %></th>
      <th data-priority="1"><%= t :open_date %></th>
      <th data-priority="0"><%= t :close_date %></th>
      <th data-priority="1"><%= t :consent_form %></th>
    </tr>
  </thead>
  <tbody>
    <% @waiting_rosters.includes(:course).each do |roster| %>
      <tr>
        <td>
          <%= link_to t( :accept ), accept_roster_path( :roster_id => roster.id ) %> / 
            <%= link_to t( :decline ), decline_roster_path( :roster_id => roster.id ) %>
        </td>
        <td><em><%= t :waiting %></em></td>
        <td><%= roster.course.get_name( anonymize ) %></td>
        <td>
          <div hidden>
            <%= l in_tz( date: roster.course.start_date ), format: :datestamp %>
          </div>
          <%= l in_tz( date: roster.course.start_date ), format: :tz_clarity %>
        </td>
        <td>
          <div hidden>
            <%= l in_tz( date: roster.course.end_date ), format: :datestamp %>
          </div>
          <%= l in_tz( date: roster.course.end_date ), format: :tz_clarity %>
        </td>
        <td><%= t :n_a %></td>
      </tr>
    <% end %>
  </tbody>
</table>
